{"annotations":{"list":[{"$$hashKey":"object:508","builtIn":1,"datasource":{"type":"datasource","uid":"grafana"},"enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","target":{"limit":100,"matchAny":false,"tags":[],"type":"dashboard"},"type":"dashboard"}]},"description":"Flink dashboard :\n\nmetrics.reporter.prom.class: org.apache.flink.metrics.prometheus.PrometheusReporter\nmetrics.reporter.prom.port: 9251\nmetrics.system-resource: true\nmetrics.system-resource-probing-interval: 5000\nmetrics.latency.interval: 5000\nstate.backend.rocksdb.metrics.actual-delayed-write-rate: true\nstate.backend.rocksdb.metrics.background-errors: true\nstate.backend.rocksdb.metrics.num-deletes-imm-mem-tables: true\nstate.backend.rocksdb.metrics.num-entries-imm-mem-tables: true\nstate.backend.rocksdb.metrics.num-snapshots: true","editable":true,"fiscalYearStartMonth":0,"gnetId":11049,"graphTooltip":0,"id":23,"links":[],"liveNow":false,"panels":[{"collapsed":false,"datasource":{"type":"datasource","uid":"grafana"},"gridPos":{"h":1,"w":24,"x":0,"y":0},"id":16,"panels":[],"targets":[{"datasource":{"type":"datasource","uid":"grafana"},"refId":"A"}],"title":"Slots","type":"row"},{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[{"options":{"match":"null","result":{"text":"N/A"}},"type":"special"}],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null}]},"unit":"none"},"overrides":[]},"gridPos":{"h":5,"w":6,"x":0,"y":1},"hideTimeOverride":false,"id":7,"links":[],"maxDataPoints":100,"options":{"colorMode":"value","graphMode":"area","justifyMode":"auto","orientation":"horizontal","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"textMode":"auto"},"pluginVersion":"9.1.6","targets":[{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"editorMode":"code","expr":"flink_jobmanager_numRegisteredTaskManagers{job=\"jobmanager\"}","format":"time_series","hide":false,"interval":"","intervalFactor":2,"legendFormat":"{{instance}}","metric":"flink_jobmanager_numRegisteredTaskManagers","range":true,"refId":"A","step":20}],"title":"# of TaskManagers","type":"stat"},{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[{"options":{"match":"null","result":{"text":"N/A"}},"type":"special"}],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"none"},"overrides":[]},"gridPos":{"h":5,"w":6,"x":6,"y":1},"hideTimeOverride":false,"id":3,"links":[],"maxDataPoints":100,"options":{"colorMode":"value","graphMode":"area","justifyMode":"auto","orientation":"horizontal","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"textMode":"auto"},"pluginVersion":"9.1.6","targets":[{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"editorMode":"code","expr":"flink_jobmanager_taskSlotsAvailable{job=\"jobmanager\"}","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"","metric":"flink_jobmanager_taskSlotsAvailable","range":true,"refId":"A","step":20}],"title":"Taskslots available","type":"stat"},{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[{"options":{"match":"null","result":{"index":0,"text":"0"}},"type":"special"}],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null}]},"unit":"none"},"overrides":[]},"gridPos":{"h":5,"w":5,"x":12,"y":1},"hideTimeOverride":false,"id":8,"links":[],"maxDataPoints":100,"options":{"colorMode":"value","graphMode":"area","justifyMode":"auto","orientation":"horizontal","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"textMode":"auto"},"pluginVersion":"9.1.6","targets":[{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"editorMode":"code","expr":"flink_jobmanager_numRunningJobs{job=\"jobmanager\"}","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"{{instance}} jobmanager运行的job数量","metric":"flink_jobmanager_numRunningJobs","range":true,"refId":"A","step":20}],"title":"# of Running Jobs","type":"stat"},{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[{"options":{"match":"null","result":{"text":"N/A"}},"type":"special"}],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"none"},"overrides":[]},"gridPos":{"h":5,"w":6,"x":17,"y":1},"hideTimeOverride":false,"id":4,"links":[],"maxDataPoints":100,"options":{"colorMode":"value","graphMode":"area","justifyMode":"auto","orientation":"horizontal","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"textMode":"auto"},"pluginVersion":"9.1.6","targets":[{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"editorMode":"code","expr":"flink_jobmanager_taskSlotsTotal{job=\"jobmanager\"}","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"","metric":"flink_jobmanager_taskSlotsTotal","range":true,"refId":"A","step":20}],"title":"Taskslots total","type":"stat"},{"collapsed":false,"datasource":{"type":"datasource","uid":"grafana"},"gridPos":{"h":1,"w":24,"x":0,"y":6},"id":18,"panels":[],"targets":[{"datasource":{"type":"datasource","uid":"grafana"},"refId":"A"}],"title":"JVM","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"fieldConfig":{"defaults":{"links":[]},"overrides":[]},"fill":0,"fillGradient":0,"gridPos":{"h":6,"w":8,"x":0,"y":7},"hiddenSeries":false,"id":10,"interval":"","legend":{"alignAsTable":false,"avg":false,"current":false,"max":false,"min":false,"rightSide":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"9.1.6","pointradius":0.5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"expr":"delta(flink_jobmanager_Status_JVM_GarbageCollector_G1_Old_Generation_Count[1m])","format":"time_series","instant":false,"interval":"20s","intervalFactor":2,"legendFormat":"{{tm_id}} 老年代gc count","metric":"flink_jobmanager_Status_JVM_GarbageCollector_Copy_Time","refId":"A","step":2},{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"expr":"delta(flink_jobmanager_Status_JVM_GarbageCollector_G1_Young_Generation_Count[1m])","format":"time_series","instant":false,"interval":"20s","intervalFactor":2,"legendFormat":"{{tm_id}} 年轻代gc count","refId":"B"}],"thresholds":[],"timeRegions":[],"title":"TaskManager Garbage Collection count","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"mode":"time","show":true,"values":[]},"yaxes":[{"format":"short","label":"","logBase":1,"show":true},{"format":"short","logBase":1,"show":true}],"yaxis":{"align":false}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"fieldConfig":{"defaults":{"links":[]},"overrides":[]},"fill":0,"fillGradient":0,"gridPos":{"h":6,"w":8,"x":8,"y":7},"hiddenSeries":false,"id":9,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"9.1.6","pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"expr":"delta(flink_taskmanager_Status_JVM_GarbageCollector_G1_Young_Generation_Time[1m])","format":"time_series","interval":"","intervalFactor":2,"legendFormat":"{{tm_id}}年轻代gc时间","metric":"flink_taskmanager_Status_JVM_GarbageCollector_G1_Young_Generation_Count","refId":"B","step":2},{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"expr":"delta(flink_taskmanager_Status_JVM_GarbageCollector_G1_Old_Generation_Time[1m])","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{tm_id}}老年代gc时间","refId":"A"}],"thresholds":[],"timeRegions":[],"title":"TaskManagers Garbage Collection Time","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"mode":"time","show":true,"values":[]},"yaxes":[{"format":"s","logBase":1,"show":true},{"format":"short","logBase":1,"show":true}],"yaxis":{"align":false}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"fieldConfig":{"defaults":{"links":[]},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":6,"w":8,"x":16,"y":7},"hiddenSeries":false,"id":42,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"9.1.6","pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"expr":"flink_jobmanager_Status_JVM_Threads_Count","format":"time_series","intervalFactor":2,"legendFormat":"{{instance}} jobManager live Thread counts","metric":"flink_taskmanager_Status_JVM_GarbageCollector_G1_Young_Generation_Count","refId":"B","step":2},{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"expr":"flink_taskmanager_Status_JVM_Threads_Count","format":"time_series","intervalFactor":2,"legendFormat":"{{instance}} taskManger live Thread counts","metric":"flink_taskmanager_Status_JVM_GarbageCollector_G1_Young_Generation_Count","refId":"A","step":2}],"thresholds":[],"timeRegions":[],"title":"live Thread count","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"mode":"time","show":true,"values":[]},"yaxes":[{"format":"locale","logBase":1,"show":true},{"format":"short","logBase":1,"show":true}],"yaxis":{"align":false}},{"collapsed":false,"datasource":{"type":"datasource","uid":"grafana"},"gridPos":{"h":1,"w":24,"x":0,"y":13},"id":37,"panels":[],"targets":[{"datasource":{"type":"datasource","uid":"grafana"},"refId":"A"}],"title":"CheckPoint","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":{"uid":"$datasource"},"description":"lastCheckpointDuration","fieldConfig":{"defaults":{"links":[]},"overrides":[]},"fill":0,"fillGradient":0,"gridPos":{"h":6,"w":8,"x":0,"y":14},"hiddenSeries":false,"id":38,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"9.1.6","pointradius":0.5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"datasource":{"uid":"$datasource"},"expr":"flink_jobmanager_job_lastCheckpointDuration{job_name=~\"$job_name\"}","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{instance}}{{job_name}}","refId":"A"}],"thresholds":[],"timeRegions":[],"title":"lastCheckpointDuration","tooltip":{"shared":true,"sort":0,"value_type":"cumulative"},"type":"graph","xaxis":{"mode":"time","show":true,"values":[]},"yaxes":[{"format":"ms","label":"","logBase":1,"show":true},{"format":"ms","logBase":1,"show":true}],"yaxis":{"align":false}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"description":"Last CheckPoint Size","fieldConfig":{"defaults":{"links":[]},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":6,"w":8,"x":8,"y":14},"hiddenSeries":false,"id":39,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"9.1.6","pointradius":0.5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"expr":"flink_jobmanager_job_lastCheckpointSize{job_name=~\"$job_name\"}","format":"time_series","intervalFactor":2,"legendFormat":"{{instance}}_{{job_name}}","refId":"A"}],"thresholds":[],"timeRegions":[],"title":"Last CheckPoint Size","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"mode":"time","show":true,"values":[]},"yaxes":[{"format":"bytes","label":"","logBase":1,"show":true},{"format":"short","logBase":1,"show":true}],"yaxis":{"align":false}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"description":"numberOfFailedCheckpoints","fieldConfig":{"defaults":{"links":[]},"overrides":[]},"fill":0,"fillGradient":0,"gridPos":{"h":6,"w":8,"x":16,"y":14},"hiddenSeries":false,"id":35,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"9.1.6","pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"expr":"delta(flink_jobmanager_job_numberOfFailedCheckpoints{job_name=~\"$job_name\"}[2m])","format":"time_series","interval":"","intervalFactor":4,"legendFormat":"{{job_name}} FailedCheckpoints","refId":"A"}],"thresholds":[],"timeRegions":[],"title":"numberOfFailedCheckpoints","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"mode":"time","show":true,"values":[]},"yaxes":[{"format":"short","label":"","logBase":1,"show":true},{"format":"short","logBase":1,"show":true}],"yaxis":{"align":false}},{"collapsed":false,"datasource":{"type":"datasource","uid":"grafana"},"gridPos":{"h":1,"w":24,"x":0,"y":20},"id":20,"panels":[],"targets":[{"datasource":{"type":"datasource","uid":"grafana"},"refId":"A"}],"title":"connector","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"description":"offset commit failures to Kafka","fieldConfig":{"defaults":{"links":[]},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":6,"w":8,"x":0,"y":21},"hiddenSeries":false,"id":22,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"9.1.6","pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"expr":"rate(flink_taskmanager_job_task_operator_commitsFailed{job_name=~\"$job_name\"}[2m])","format":"time_series","intervalFactor":1,"legendFormat":"{{task_name}}","refId":"A"}],"thresholds":[],"timeRegions":[],"title":"offset commit failures to Kafka","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"mode":"time","show":true,"values":[]},"yaxes":[{"format":"short","logBase":1,"show":true},{"format":"short","logBase":1,"show":true}],"yaxis":{"align":false}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"fieldConfig":{"defaults":{"links":[]},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":6,"w":8,"x":8,"y":21},"hiddenSeries":false,"id":26,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"9.1.6","pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"expr":"flink_taskmanager_job_task_operator_numLateRecordsDropped{job_name=~\"$job_name\"}","format":"time_series","intervalFactor":1,"legendFormat":"{{task_name}}","refId":"A"}],"thresholds":[],"timeRegions":[],"title":"records has dropped due to arriving late.","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"mode":"time","show":true,"values":[]},"yaxes":[{"format":"short","logBase":1,"show":true},{"format":"short","logBase":1,"show":true}],"yaxis":{"align":false}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"description":"job-downtime","fieldConfig":{"defaults":{"links":[]},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":6,"w":8,"x":16,"y":21},"hiddenSeries":false,"id":43,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"9.1.6","pointradius":1,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"expr":"flink_jobmanager_job_downtime{job_name=~\"$job_name\"}","format":"time_series","intervalFactor":1,"legendFormat":"{{job_name}}_downtime","refId":"A"}],"thresholds":[],"timeRegions":[],"title":"job-downtime","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"mode":"time","show":true,"values":[]},"yaxes":[{"format":"ms","logBase":1,"show":true},{"format":"short","logBase":1,"show":false}],"yaxis":{"align":false}},{"collapsed":false,"datasource":{"type":"datasource","uid":"grafana"},"gridPos":{"h":1,"w":24,"x":0,"y":27},"id":52,"panels":[],"targets":[{"datasource":{"type":"datasource","uid":"grafana"},"refId":"A"}],"title":"rocksdb","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"description":"delayed write rate","fieldConfig":{"defaults":{"links":[]},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":6,"w":8,"x":0,"y":28},"hiddenSeries":false,"id":50,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"9.1.6","pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"expr":"flink_taskmanager_job_task_operator_counter_rocksdb_actual_delayed_write_rate{job_name=~\"$job_name\"}","format":"time_series","intervalFactor":1,"legendFormat":"{{task_name}}","metric":"flink_jobmanager_Status_JVM_Memory_Direct_MemoryUsed","refId":"A","step":20}],"thresholds":[],"timeRegions":[],"title":"delayed write rate","tooltip":{"shared":true,"sort":0,"value_type":"cumulative"},"type":"graph","xaxis":{"mode":"time","show":true,"values":[]},"yaxes":[{"format":"bytes","logBase":1,"show":true},{"format":"decbytes","logBase":1,"show":true}],"yaxis":{"align":false}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"description":"entries in the unflushed immutable memtables.","fieldConfig":{"defaults":{"links":[]},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":6,"w":8,"x":8,"y":28},"hiddenSeries":false,"id":53,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"9.1.6","pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"expr":"flink_taskmanager_job_task_operator_counter_rocksdb_num_deletes_imm_mem_tables{job_name=~\"$job_name\"}","format":"time_series","intervalFactor":1,"legendFormat":"{{task_name}} delete entries","metric":"flink_jobmanager_Status_JVM_Memory_Direct_MemoryUsed","refId":"A","step":20},{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"expr":"flink_taskmanager_job_task_operator_counter_rocksdb_num_entries_imm_mem_tables{job_name=~\"$job_name\"}","format":"time_series","intervalFactor":1,"legendFormat":"{{task_name}} total entries","metric":"flink_jobmanager_Status_JVM_Memory_Direct_MemoryUsed","refId":"B","step":20}],"thresholds":[],"timeRegions":[],"title":" entries in the unflushed immutable memtables","tooltip":{"shared":true,"sort":0,"value_type":"cumulative"},"type":"graph","xaxis":{"mode":"time","show":true,"values":[]},"yaxes":[{"format":"short","logBase":1,"show":true},{"format":"decbytes","logBase":1,"show":true}],"yaxis":{"align":false}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"description":"background errors in RocksDB","fieldConfig":{"defaults":{"links":[]},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":6,"w":8,"x":16,"y":28},"hiddenSeries":false,"id":54,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"9.1.6","pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"expr":"flink_taskmanager_job_task_operator_counter_rocksdb_background_errors{job_name=~\"$job_name\"}","format":"time_series","intervalFactor":1,"legendFormat":"{{task_name}}","metric":"flink_jobmanager_Status_JVM_Memory_Direct_MemoryUsed","refId":"A","step":20}],"thresholds":[],"timeRegions":[],"title":"background errors in RocksDB","tooltip":{"shared":true,"sort":0,"value_type":"cumulative"},"type":"graph","xaxis":{"mode":"time","show":true,"values":[]},"yaxes":[{"format":"short","logBase":1,"show":true},{"format":"decbytes","logBase":1,"show":true}],"yaxis":{"align":false}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"description":"unreleased snapshots","fieldConfig":{"defaults":{"links":[]},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":6,"w":8,"x":0,"y":34},"hiddenSeries":false,"id":55,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"9.1.6","pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"expr":"flink_taskmanager_job_task_operator_counter_rocksdb_num_snapshots{job_name=~\"$job_name\"}","format":"time_series","intervalFactor":2,"legendFormat":"{{task_name}}","metric":"flink_jobmanager_Status_JVM_Memory_Direct_MemoryUsed","refId":"A","step":20}],"thresholds":[],"timeRegions":[],"title":"unreleased snapshots","tooltip":{"shared":true,"sort":0,"value_type":"cumulative"},"type":"graph","xaxis":{"mode":"time","show":true,"values":[]},"yaxes":[{"format":"short","logBase":1,"show":true},{"format":"decbytes","logBase":1,"show":true}],"yaxis":{"align":false}},{"collapsed":false,"datasource":{"type":"datasource","uid":"grafana"},"gridPos":{"h":1,"w":24,"x":0,"y":40},"id":24,"panels":[],"targets":[{"datasource":{"type":"datasource","uid":"grafana"},"refId":"A"}],"title":"IO","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"fieldConfig":{"defaults":{"links":[]},"overrides":[]},"fill":0,"fillGradient":0,"gridPos":{"h":6,"w":8,"x":0,"y":41},"hiddenSeries":false,"id":5,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"9.1.6","pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"expr":"flink_jobmanager_Status_JVM_Memory_Heap_Max-flink_jobmanager_Status_JVM_Memory_Heap_Used","format":"time_series","interval":"","intervalFactor":1,"legendFormat":"{{instance}}可用堆内存","metric":"flink_jobmanager_Status_JVM_Memory_Direct_MemoryUsed","refId":"A","step":20}],"thresholds":[],"timeRegions":[],"title":"JobManager Memory Available","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"mode":"time","show":true,"values":[]},"yaxes":[{"format":"bytes","logBase":1,"show":true},{"format":"decbytes","logBase":1,"show":true}],"yaxis":{"align":false}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"description":"TaskManager Memory Available","fieldConfig":{"defaults":{"links":[]},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":6,"w":8,"x":8,"y":41},"hiddenSeries":false,"id":6,"legend":{"avg":false,"current":false,"hideEmpty":false,"hideZero":false,"max":false,"min":false,"rightSide":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"9.1.6","pointradius":0.5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"expr":"flink_taskmanager_Status_JVM_Memory_Heap_Max-flink_taskmanager_Status_JVM_Memory_Heap_Used","format":"time_series","hide":false,"intervalFactor":2,"legendFormat":"{{instance}}:{{tm_id}}可用堆内存","metric":"flink_taskmanager_Status_JVM_Memory_Direct_MemoryUsed","refId":"A","step":4}],"thresholds":[],"timeRegions":[],"title":"TaskManager Memory Available","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"mode":"time","show":true,"values":[]},"yaxes":[{"format":"bytes","logBase":1,"show":true},{"format":"short","logBase":1,"show":true}],"yaxis":{"align":false}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"description":"JobManager NonHeap Memory Available","fieldConfig":{"defaults":{"links":[]},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":6,"w":8,"x":16,"y":41},"hiddenSeries":false,"id":40,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"9.1.6","pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"expr":"flink_jobmanager_Status_JVM_Memory_NonHeap_Committed-flink_jobmanager_Status_JVM_Memory_NonHeap_Used","format":"time_series","intervalFactor":2,"legendFormat":"{{instance}}NoHeap可用内存","metric":"flink_jobmanager_Status_JVM_Memory_Direct_MemoryUsed","refId":"A","step":20}],"thresholds":[],"timeRegions":[],"title":"JobManager NonHeap Memory Available","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"mode":"time","show":true,"values":[]},"yaxes":[{"format":"bytes","logBase":1,"show":true},{"format":"short","logBase":1,"show":true}],"yaxis":{"align":false}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"description":"TaskManger NonHeap Memory Available","fieldConfig":{"defaults":{"links":[]},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":6,"w":8,"x":0,"y":47},"hiddenSeries":false,"id":41,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"9.1.6","pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"expr":"flink_taskmanager_Status_JVM_Memory_NonHeap_Committed-flink_taskmanager_Status_JVM_Memory_NonHeap_Used","format":"time_series","intervalFactor":2,"legendFormat":"{{instance}}:{{tm_id}}NoHeap可用","metric":"flink_jobmanager_Status_JVM_Memory_Direct_MemoryUsed","refId":"A","step":20}],"thresholds":[],"timeRegions":[],"title":"TaskManger NonHeap Memory Available","tooltip":{"shared":true,"sort":0,"value_type":"cumulative"},"type":"graph","xaxis":{"mode":"time","show":true,"values":[]},"yaxes":[{"format":"bytes","logBase":1,"show":true},{"format":"decbytes","logBase":1,"show":true}],"yaxis":{"align":false}},{"collapsed":false,"datasource":{"type":"datasource","uid":"grafana"},"gridPos":{"h":1,"w":24,"x":0,"y":53},"id":45,"panels":[],"targets":[{"datasource":{"type":"datasource","uid":"grafana"},"refId":"A"}],"title":"System","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"description":"jobmanager network Rate per second","fieldConfig":{"defaults":{"links":[]},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":6,"w":8,"x":0,"y":54},"hiddenSeries":false,"id":31,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"9.1.6","pointradius":0.5,"points":false,"renderer":"flot","repeatDirection":"h","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"expr":"flink_jobmanager_System_Network_bond0_ReceiveRate","format":"time_series","intervalFactor":1,"legendFormat":"{{host}} ReceiveRate","refId":"A"},{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"expr":"flink_jobmanager_System_Network_bond0_SendRate","format":"time_series","intervalFactor":1,"legendFormat":"{{host}} SendRate","refId":"B"}],"thresholds":[],"timeRegions":[],"title":"jobmanager network  Rate per second","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"mode":"time","show":true,"values":[]},"yaxes":[{"format":"bytes","logBase":1,"show":true},{"format":"short","logBase":1,"show":true}],"yaxis":{"align":false}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"description":"TaskManager network Rate per second","fieldConfig":{"defaults":{"links":[]},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":6,"w":8,"x":8,"y":54},"hiddenSeries":false,"id":33,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"9.1.6","pointradius":0.5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"expr":"flink_taskmanager_System_Network_bond0_ReceiveRate","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":1,"legendFormat":"{{host}} ReceiveRate","refId":"A"},{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"expr":"flink_taskmanager_System_Network_bond0_SendRate","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":1,"legendFormat":"{{host}}    SendRate","refId":"B"}],"thresholds":[],"timeRegions":[],"title":"TaskManager network Rate per second","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"mode":"time","show":true,"values":[]},"yaxes":[{"format":"decbytes","logBase":1,"show":true},{"format":"short","logBase":1,"show":true}],"yaxis":{"align":false}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"description":"JobManager  System Memory Available","fieldConfig":{"defaults":{"links":[]},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":6,"w":8,"x":16,"y":54},"hiddenSeries":false,"id":46,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"9.1.6","pointradius":0.5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"expr":"flink_jobmanager_System_Memory_Available","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":1,"legendFormat":"{{instance}}可用内存","refId":"A"}],"thresholds":[],"timeRegions":[],"title":"JobManager System Memory Available","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"mode":"time","show":true,"values":[]},"yaxes":[{"format":"decbytes","logBase":1,"show":true},{"format":"short","logBase":1,"show":true}],"yaxis":{"align":false}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"description":"TaskManager System Memory Available","fieldConfig":{"defaults":{"links":[]},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":6,"w":8,"x":0,"y":60},"hiddenSeries":false,"id":47,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"9.1.6","pointradius":0.5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"expr":"flink_taskmanager_System_Memory_Available","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":1,"legendFormat":"{{instance}}可用内存","refId":"A"}],"thresholds":[],"timeRegions":[],"title":"TaskManager System Memory Available","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"mode":"time","show":true,"values":[]},"yaxes":[{"format":"decbytes","logBase":1,"show":true},{"format":"short","logBase":1,"show":true}],"yaxis":{"align":false}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"description":"JobManager CPU USE","fieldConfig":{"defaults":{"links":[]},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":6,"w":8,"x":8,"y":60},"hiddenSeries":false,"id":48,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"9.1.6","pointradius":0.5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"expr":"flink_jobmanager_System_CPU_Usage","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{instance}}已用内存","refId":"A"}],"thresholds":[],"timeRegions":[],"title":"JobManager CPU USE","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"mode":"time","show":true,"values":[]},"yaxes":[{"format":"percent","logBase":1,"show":true},{"format":"short","logBase":1,"show":true}],"yaxis":{"align":false}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"description":"TaskManager CPU USE","fieldConfig":{"defaults":{"links":[]},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":6,"w":8,"x":16,"y":60},"hiddenSeries":false,"id":49,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"connected","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"9.1.6","pointradius":0.5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"datasource":{"type":"prometheus","uid":"hj6gjW44z"},"expr":"flink_taskmanager_System_CPU_Usage","format":"time_series","hide":false,"instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{instance}}已用内存","refId":"A"}],"thresholds":[],"timeRegions":[],"title":"TaskManager CPU USE","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"mode":"time","show":true,"values":[]},"yaxes":[{"format":"percent","logBase":1,"show":true},{"format":"short","logBase":1,"show":true}],"yaxis":{"align":false}}],"refresh":"5s","schemaVersion":37,"style":"dark","tags":["flink"],"templating":{"list":[{"current":{"selected":false,"text":"Prometheus","value":"Prometheus"},"hide":0,"includeAll":false,"label":"datasource","multi":false,"name":"datasource","options":[],"query":"prometheus","refresh":1,"regex":"","skipUrlSync":false,"type":"datasource"},{"current":{"selected":false,"text":"All","value":"$__all"},"datasource":{"type":"prometheus","uid":"$datasource"},"definition":"label_values(job_name)","hide":0,"includeAll":true,"label":"job_name","multi":true,"name":"job_name","options":[],"query":{"query":"label_values(job_name)","refId":"Prometheus-job_name-Variable-Query"},"refresh":1,"regex":"","skipUrlSync":false,"sort":0,"tagValuesQuery":"","tagsQuery":"","type":"query","useTags":false}]},"time":{"from":"now-1h","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"],"time_options":["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone":"browser","title":"Flink Dashboard","uid":"-0rFuzoZk","version":4,"weekStart":""}